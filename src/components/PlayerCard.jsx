const PlayerCard = ({ batsmanRef, player, bowler, result, handleHit }) => {
  let batsman = player.players.filter((player) => player.type === "batsman");

  return (
    <div className="relative w-[170px] sm:w-64 h-96 sm:p-8 flex flex-col items-center justify-center bg-transparent -mt-10">
      <div className="w-full flex flex-col items-center">
        <div className="flex items-center gap-4 mb-4">
          <h1
            className={`flex gap-2 font-semibold text-xl sm:text-[28px] text-gray-900`}
          >
            {player.chance ? (
              <svg
                version="1.1"
                id="Layer_1"
                xmlns="http://www.w3.org/2000/svg"
                xmlnsXlink="http://www.w3.org/1999/xlink"
                x="0px"
                y="0px"
                // width={28}
                className="w-6 sm:w-7"
                viewBox="0 0 122.25 122.88"
                xmlSpace="preserve"
              >
                <g>
                  <path d="M73.86,34.89c-1.51-0.81-3.03-2.07-4.69-3.73c-0.33-0.33-0.77-0.5-1.21-0.5c-0.44,0-0.88,0.16-1.21,0.49l0,0L6.82,91.1 c-4.33,4.33-3.85,10.36-0.98,15.7c1.15,2.13,2.66,4.15,4.41,5.92c1.74,1.77,3.72,3.29,5.78,4.42c4.89,2.68,10.26,3.14,14.03-0.63 l61.02-61.02c0.33-0.33,0.5-0.77,0.5-1.21c0-0.44-0.16-0.88-0.49-1.21h-0.01c-1.74-1.74-3.07-3.31-3.9-4.86 C81.22,46.93,75.13,41.1,73.86,34.89L73.86,34.89z M65.42,67.62c0.7-0.7,1.84-0.7,2.54,0s0.7,1.84,0,2.54l-35.96,35.96 c-0.7,0.7-1.84,0.7-2.54,0c-0.7-0.7-0.7-1.84,0-2.54L65.42,67.62L65.42,67.62z M112.43,0.7l9.13,9.13c0.46,0.46,0.7,1.08,0.7,1.69 c0,0.61-0.23,1.22-0.7,1.69l-8.8,8.8l-0.01,0c-0.47,0.46-1.07,0.7-1.68,0.7c-0.38,0-0.76-0.09-1.1-0.27 c-1.57,1.54-3.36,3.24-5.19,4.99c-4.7,4.48-9.67,9.22-13.27,13.51c-1.45,1.73-1.93,3.1-1.63,4.39c0.36,1.49,1.69,3.15,3.76,5.22 l0,0c1.04,1.04,1.55,2.4,1.55,3.75c0,1.36-0.52,2.72-1.55,3.75l-61.02,61.02c-5.11,5.11-12.08,4.65-18.31,1.23 c-2.36-1.3-4.62-3.03-6.61-5.05c-1.99-2.01-3.71-4.31-5.02-6.74c-3.58-6.66-4.06-14.29,1.6-19.95l59.94-59.94l0.01,0 c1.03-1.03,2.39-1.55,3.75-1.55c1.36,0,2.72,0.52,3.75,1.55c2.02,2.02,3.68,3.29,5.18,3.64c1.31,0.3,2.69-0.15,4.37-1.5 c4.21-3.39,9.21-8.65,13.81-13.49c1.68-1.77,3.3-3.48,4.75-4.96c-0.18-0.34-0.27-0.72-0.27-1.1c0-0.61,0.23-1.22,0.7-1.69l8.8-8.8 h0.01c0.47-0.46,1.08-0.7,1.68-0.7C111.35,0,111.96,0.23,112.43,0.7L112.43,0.7z" />
                </g>
              </svg>
            ) : (
              <svg
                version="1.1"
                id="Layer_1"
                xmlns="http://www.w3.org/2000/svg"
                xmlnsXlink="http://www.w3.org/1999/xlink"
                x="0px"
                y="0px"
                // width={28}
                className="w-5 sm:w-7"
                viewBox="0 0 122.88 122.88"
                xmlSpace="preserve"
              >
                <g>
                  <path d="M44.35,9.63c-0.05,0.25-0.13,0.49-0.24,0.73l-1.43,3.15c-0.78,1.73-2.82,2.5-4.55,1.72c-0.96-0.43-1.62-1.24-1.89-2.18 c-4.95,2.58-9.46,5.91-13.37,9.82C13,32.74,6.89,46.38,6.89,61.44c0,15.06,6.1,28.7,15.98,38.57c0.42,0.42,0.85,0.84,1.28,1.24 c0.25-0.14,0.53-0.24,0.82-0.31c1.84-0.45,3.71,0.67,4.16,2.52c0.12,0.48,0.28,0.97,0.46,1.47c0.14,0.38,0.3,0.76,0.47,1.14 c1.83,1.29,3.73,2.46,5.71,3.52c-5.99-15.14-7.76-35.83-4.73-55.59c2.66-17.37,9.02-34.14,19.44-46 C48.39,8.42,46.35,8.97,44.35,9.63L44.35,9.63z M17.53,83.67c0-1.9,1.54-3.45,3.45-3.45s3.45,1.54,3.45,3.45 c0,0.9,0.08,1.97,0.21,2.98c0.13,1.03,0.33,2.07,0.55,2.93c0.48,1.84-0.61,3.72-2.45,4.2c-1.84,0.48-3.72-0.61-4.2-2.45 c-0.29-1.1-0.54-2.44-0.72-3.79C17.64,86.12,17.53,84.74,17.53,83.67L17.53,83.67z M16.32,63.05c0.17-1.89,1.84-3.28,3.73-3.11 c1.89,0.17,3.28,1.84,3.11,3.73c-0.04,0.43,0,1.48,0.07,2.7c0.09,1.43,0.24,3,0.38,4.06c0.26,1.88-1.05,3.62-2.93,3.88 c-1.88,0.26-3.62-1.05-3.88-2.93c-0.17-1.24-0.34-3.01-0.44-4.6C16.27,65.3,16.24,63.89,16.32,63.05L16.32,63.05z M19.83,41.33 c0.52-1.83,2.43-2.89,4.25-2.37c1.83,0.52,2.89,2.43,2.37,4.26c-0.14,0.5-0.35,1.49-0.56,2.58l-0.02,0.11 c-0.25,1.32-0.51,2.84-0.66,3.89c-0.27,1.88-2.02,3.18-3.9,2.91c-1.88-0.27-3.18-2.02-2.91-3.9c0.15-1.02,0.43-2.64,0.72-4.18 l0.02-0.12C19.39,43.19,19.64,41.99,19.83,41.33L19.83,41.33z M27.58,22.03c0.78-1.73,2.82-2.5,4.55-1.72s2.5,2.82,1.72,4.55 l-2.62,5.77c-0.78,1.73-2.82,2.5-4.55,1.72c-1.73-0.78-2.5-2.82-1.72-4.55L27.58,22.03L27.58,22.03z M53.33,115.39 c0.26-1.41,1.39-2.56,2.89-2.78c1.88-0.27,3.63,1.03,3.9,2.91c0.02,0.15,0.05,0.3,0.08,0.45c0.41,0.01,0.83,0.01,1.24,0.01 c15.06,0,28.7-6.1,38.57-15.98c9.87-9.87,15.98-23.51,15.98-38.57c0-15.06-6.11-28.7-15.98-38.57c-7-7-15.9-12.11-25.86-14.49 l-0.49,0.85c-0.94,1.64-3.04,2.21-4.69,1.27c-1.2-0.69-1.83-2-1.71-3.3C65.37,7,63.45,6.9,61.5,6.89 C48.51,17.38,40.81,35.73,37.86,55.02c-3.34,21.81-0.61,44.59,7.39,58.53C47.86,114.35,50.56,114.97,53.33,115.39L53.33,115.39z M44.68,98.45c-0.27-1.88,1.03-3.63,2.91-3.9c1.88-0.27,3.63,1.03,3.9,2.91c0.11,0.77,0.32,1.58,0.57,2.38 c0.29,0.92,0.68,1.89,1.09,2.8c0.79,1.72,0.04,3.77-1.68,4.56c-1.72,0.79-3.77,0.04-4.56-1.68c-0.5-1.08-0.98-2.32-1.39-3.61 C45.13,100.71,44.83,99.52,44.68,98.45L44.68,98.45z M41.87,76.65c0.18-1.89,1.86-3.27,3.74-3.1c1.89,0.18,3.27,1.86,3.1,3.74 c-0.08,0.84-0.1,1.92-0.07,3.01c0.03,1.05,0.13,2.1,0.27,2.96c0.3,1.87-0.97,3.64-2.84,3.94c-1.87,0.3-3.64-0.97-3.94-2.84 c-0.19-1.13-0.31-2.49-0.35-3.84C41.73,79.16,41.76,77.78,41.87,76.65L41.87,76.65z M42.63,55.99c0.36-1.87,2.16-3.09,4.02-2.73 c1.87,0.36,3.09,2.16,2.73,4.02c-0.09,0.47-0.16,1.49-0.2,2.66c-0.05,1.44-0.05,3.03-0.01,4.12c0.07,1.9-1.4,3.49-3.3,3.57 s-3.49-1.4-3.57-3.3c-0.05-1.23-0.04-3.01,0.01-4.6C42.38,58.2,42.48,56.78,42.63,55.99L42.63,55.99z M48.24,34.73 c0.69-1.77,2.69-2.64,4.46-1.95c1.77,0.69,2.64,2.69,1.95,4.46c-0.19,0.49-0.5,1.45-0.81,2.52c-0.4,1.37-0.82,2.9-1.07,3.91 c-0.45,1.84-2.32,2.97-4.16,2.52c-1.84-0.45-2.97-2.32-2.52-4.16c0.27-1.07,0.72-2.72,1.15-4.21 C47.62,36.54,47.99,35.37,48.24,34.73L48.24,34.73z M57.82,16.27c0.94-1.64,3.04-2.21,4.69-1.27s2.21,3.04,1.27,4.69l-3.17,5.49 c-0.94,1.64-3.04,2.21-4.69,1.27s-2.21-3.04-1.27-4.69L57.82,16.27L57.82,16.27z M42.21,119.81c-0.2-0.05-0.4-0.11-0.6-0.2 c-8.99-3.06-17.04-8.15-23.61-14.72C6.88,93.77,0,78.41,0,61.44C0,44.48,6.88,29.11,18,18C29.11,6.88,44.48,0,61.44,0 c16.96,0,32.33,6.88,43.44,18c11.12,11.12,18,26.48,18,43.44s-6.88,32.33-18,43.44c-11.12,11.12-26.48,18-43.44,18 C54.72,122.88,48.26,121.8,42.21,119.81L42.21,119.81z" />
                </g>
              </svg>
            )}
            {player.name}
          </h1>
        </div>
        <p className="text-xl sm:text-[30px] font-bold text-gray-900">
          {player.score}/{player.wickets}{" "}
          <span className="text-sm sm:text-base font-semibold">
            ({6 - player.balls} balls)
          </span>
        </p>
      </div>
      {result === "" ? (
        <>
          <div className="flex flex-col items-center text-gray-900 mt-6">
            <p
              ref={batsmanRef}
              id={batsman[player.wickets]?.id}
              className="flex justify-between text-sm sm:text-base w-[110px] sm:w-[132px] font-semibold"
            >
              <span>{batsman[player.wickets]?.name}</span>
              <span>
                {batsman[player.wickets]?.runs} (
                {batsman[player.wickets]?.balls})
              </span>
            </p>
            <p
              id={"bowler"}
              className="flex justify-between text-sm sm:text-base w-[110px] sm:w-[132px] font-semibold mt-1"
            >
              <span>{bowler[0]?.name}</span>
              <span>
                {bowler[0]?.wickets}/({bowler[0]?.balls})
              </span>
            </p>
          </div>
          <div className="mt-6 sm:mt-10 flex justify-center">
            <p className="font-bold px-2 text-2xl sm:text-4xl text-center text-gray-900">
              {player.currScore == 0 && player.balls === 6
                ? "--"
                : player.currScore}
            </p>
          </div>
          <div className="mt-6 sm:mt-10 h-10 flex justify-center">
            {player.balls > 0 ? (
              <button
                disabled={!player.chance}
                className="bg-green-600 text-white font-bold rounded px-6 sm:px-10 py-1 sm:py-1.5 text-base sm:text-xl cursor-pointer disabled:opacity-50 disabled:bg-gray-400 shadow-lg"
                onClick={() => handleHit(player)}
              >
                HIT
              </button>
            ) : (
              player.winner && (
                <div className="flex text-3xl text-yellow-500 font-bold">
                  Winner
                </div>
              )
            )}
          </div>
        </>
      ) : (
        <>
          <div className="flex flex-col items-center text-gray-700 mt-6">
            <div className="flex flex-col">
              {batsman.map((bts, index) => (
                <p
                  key={index}
                  className="flex justify-between text-sm sm:text-base w-[110px] sm:w-[132px] font-semibold"
                >
                  <span>{bts.name}</span>
                  <span>
                    {bts.runs} ({bts.balls})
                  </span>
                </p>
              ))}
            </div>
            {bowler.map((bts, index) => (
              <p
                key={index}
               className="flex justify-between text-sm sm:text-base w-[110px] sm:w-[132px] font-semibold mt-3"
            >
                <span>{bts.name}</span>
                <span>
                  {bts.wickets}/({bts.balls})
                </span>
              </p>
            ))}
          </div>
          {result?.split(" ")[0] === player.name && (
            <div
              className={`absolute bottom-10 text-xl font-bold mt-6 text-center text-[#eeeeee] ${
                player.id === 1 ? "w-full left-[50%]" : "-left-1/2 sm:-left-[40%]"
              }`}
            >
              {result}
            </div>
          )}
        </>
      )}
    </div>
  );
};

export default PlayerCard;
